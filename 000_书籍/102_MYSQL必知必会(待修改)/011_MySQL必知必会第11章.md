---
title: MySQL必知必会10-14章
date: 2020-08-15 11:21:40
tags:
  - MySQL
  - MYSQL必知必会
---

这些章讲解创建计算字段，使用数据处理函数，汇总数据，分组数据，使用子查询。

<!--more-->

## 第十一章，使用数据处理函数

### 11.2.使用函数

大多数SQL实现支持以下类型的函数。

1.用于处理文本串(如删除或填充值，转换值为大写或小写)的文本函数。

2.用于在数值数据上进行算术操作(如返回绝对值，进行代数运算)的数值函数。

3.用于处理日期和时间值并从这些值中提取特定成分(例如，返回两个日期之差，检查日期有效性等)的日期和时间函数。

4.返回DBMS正使用的特殊信息(如返回用户登录信息，检查版本细节)的系统函数。

#### 11.2.1.文本处理函数

上一章中我们已经看到了文本处理函数的例子，其他的用法也差不多，下面是常见的文本处理函数。

| 函数        | 说明              |
| ----------- | ----------------- |
| Left()      | 返回串左边的字符  |
| Length()    | 返回串的长度      |
| Locate()    | 找出串的一个子串  |
| Lower()     | 将串转换为小写    |
| LTrom()     | 去掉串左边的空格  |
| Right()     | 返回串右边的字符  |
| RTrim()     | 去掉串右边的空格  |
| Soundex()   | 返回串的SOUNDEX值 |
| SubString() | 返回子串的字符    |
| Upper()     | 将串转换为大写    |

#### 12.2.日期和时间处理函数

下面列出了常用的日期和时间处理函数。

| 函数         | 说明                           |
| ------------ | ------------------------------ |
| AddDate()    | 增加一个日期(天，周等)         |
| AddTime()    | 增加一个时间(时，分等)         |
| CurDate()    | 返回当前日期                   |
| CurTime()    | 返回当前时间                   |
| Date()       | 返回日期时间的日期部分         |
| DateDiff()   | 计算两个日期之差               |
| Date_Add()   | 高度灵活的日期运算函数         |
| Day_Format() | 返回一个格式化的日期或时间串   |
| Day()        | 返回一个日期的天数部分         |
| DayOfWeek()  | 对于一个日期，返回对于的星期几 |
| Hour()       | 返回一个日期的小时部分         |
| Minute()     | 返回一个日期的分钟部分         |
| Month()      | 返回一个日期的月份部分         |
| Now()        | 返回当前日期和时间             |
| Second()     | 返回一个时间的秒部分           |
| Time()       | 返回一个日期时间的时间部分     |
| Year()       | 返回一个日期的年份部分         |

**应该总是使用4位数字的年份：日期格式为yyyy-mm-dd。**

如果你想检索2005年9月下的所有订单，

```mysql
输入： SELECT cust_id, order_num
      FROM orders
      WHERE Date(order_data) BETWEEN '2005-09-01'  AND  '2005-09-30';
```

输出：

| cust_id | order_num |
| ------- | --------- |
| 10001   | 20005     |
| 10003   | 20006     |

分析：其中BETWEEN操作符用来把2005-09-01和2005-09-30定义为一个要匹配的日期范围。

#### 11.2.3.数值处理函数。

下面列出了常用的数值处理函数。

| 函数   | 说明                 |
| ------ | -------------------- |
| Abs()  | 返回一个数的绝对值   |
| Cos()  | 返回一个角度的余弦值 |
| Exp()  | 返回一个数的指数值   |
| Mod()  | 返回除操作的余数     |
| Pi()   | 返回圆周率           |
| Rand() | 返回一个随机数       |
| Sin()  | 返回一个角度的正弦   |
| Sqrt() | 返回一个数的平方根   |
| Tan()  | 返回一个角度的正切   |
